(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t){e.exports="data:image/png;base64,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"},163:function(e,t,a){e.exports=a(391)},171:function(e,t,a){},172:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},306:function(e,t,a){},312:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(13),c=a.n(r),l=(a(168),a(169),a(170),a(171),a(17)),o=a(18),i=a(21),u=a(19),p=a(20),d=a(10),m=(a(172),a(28)),h=a(25),f=(a(216),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).checkLogin=a.checkLogin.bind(Object(d.a)(Object(d.a)(a))),a.updateUserValue=a.updateUserValue.bind(Object(d.a)(Object(d.a)(a))),a.updatePasswordValue=a.updatePasswordValue.bind(Object(d.a)(Object(d.a)(a))),a.users=[{user:"maor",password:"123456",city:"\u05d7\u05d5\u05dc\u05d5\u05df"},{user:"daniel",password:"test",city:"\u05e8\u05d0\u05e9\u05d5\u05df \u05dc\u05e6\u05d9\u05d5\u05df"}],a.state={user:"",password:"",incPass:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"checkLogin",value:function(){var e=this;this.users.forEach(function(t){t.user!==e.state.user||t.password!==e.state.password||e.props.handler(t)}),this.setState(Object(m.a)({},this.state,{incPass:!0}))}},{key:"updateUserValue",value:function(e){this.setState(Object(m.a)({},this.state,{user:e.target.value}))}},{key:"updatePasswordValue",value:function(e){this.setState(Object(m.a)({},this.state,{password:e.target.value}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"wrapper"},s.a.createElement(h.f,null,s.a.createElement(h.i,null,s.a.createElement(h.e,{md:"6",className:"offset-md-3"},s.a.createElement(h.b,null,s.a.createElement(h.c,null,s.a.createElement(h.d,{className:"form-header purple-gradient rounded"},s.a.createElement("h3",{className:"my-3"},s.a.createElement(h.g,{icon:"lock"})," CityPop Login:")),s.a.createElement("form",null,s.a.createElement("div",{className:"grey-text"},s.a.createElement(h.h,{label:"Type your user",icon:"user",group:!0,type:"text",validate:!0,onChange:this.updateUserValue}),s.a.createElement(h.h,{label:"Type your password",icon:"lock",group:!0,type:"password",validate:!0,onChange:this.updatePasswordValue})),s.a.createElement(function(){return e.state.incPass?s.a.createElement("p",null,"incorrect user or password!"):null},null),s.a.createElement("div",{className:"text-center mt-4"},s.a.createElement(h.a,{color:"blue",className:"mb-3",onClick:this.checkLogin,type:"submit"},"Login"))))))))))}}]),t}(n.Component)),g=a(32),A=a(43),y=(a(217),a(152)),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logOut=a.logOut.bind(Object(d.a)(Object(d.a)(a))),a.state={menuOpen:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleStateChange",value:function(e){this.setState({menuOpen:e.isOpen})}},{key:"closeMenu",value:function(){this.setState({menuOpen:!1})}},{key:"logOut",value:function(){this.props.handler()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"nav"},s.a.createElement(y.slide,{isOpen:this.state.menuOpen,onStateChange:function(t){return e.handleStateChange(t)}},s.a.createElement(g.b,{to:"/",className:"menu-item",onClick:function(){return e.closeMenu()}},"Map"),s.a.createElement(g.b,{to:"/AllReports",className:"menu-item",onClick:function(){return e.closeMenu()}},"All reports"),s.a.createElement(g.b,{to:"/OpenReports",className:"menu-item",onClick:function(){return e.closeMenu()}},"Open reports"),s.a.createElement(g.b,{to:"/TreatReports",className:"menu-item",onClick:function(){return e.closeMenu()}},"In Treat"),s.a.createElement(g.b,{to:"/ClosedReports",className:"menu-item",onClick:function(){return e.closeMenu()}},"Closed reports")),s.a.createElement(g.b,{to:"/",className:"brand"},"CityPop"),s.a.createElement("button",{className:"log-out-btn",onClick:this.logOut},s.a.createElement("i",{className:"fas fa-sign-out-alt"})," ","","Sign Out"))}}]),t}(n.Component),v=a(104),b=a.n(v),k=(a(282),b.a.initializeApp({apiKey:"AIzaSyBWxh5GxPqASlWybg6qk4AXV5SGae9_MeQ",authDomain:"citypop-76fa9.firebaseapp.com",databaseURL:"https://citypop-76fa9.firebaseio.com",projectId:"citypop-76fa9",storageBucket:"citypop-76fa9.appspot.com",messagingSenderId:"274394776071"})),O=b.a.database(k),j=a(51),C=a(162),w=(a(306),a(157)),N=a.n(w),M=(a(307),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={notes:[],inspectors:[],showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.ref("CityPopSERVER/Notes").on("value",function(t){t=Object.values(t.val()),e.setState(Object(m.a)({},e.state,{notes:t.filter(function(t){return e.props.city&&t.fullAddress.includes(e.props.city)&&"done"!==t.status})}))})}},{key:"componentWillMount",value:function(){var e=this;O.ref("CityPopSERVER/Notes").on("value",function(t){t=Object.values(t.val()),e.setState(Object(m.a)({},e.state))}),O.ref("CityPopSERVER/inspector").on("value",function(t){t=Object.values(t.val()),e.setState(Object(m.a)({},e.state,{inspectors:t.filter(function(t){return e.props.city&&t.city.includes(e.props.city)})}))})}},{key:"getMarkers",value:function(){var e=this,t=[];return this.state.notes.forEach(function(a){t.push(s.a.createElement(j.Marker,{onClick:e.onMarkerClick,address:a.fullAddress,title:a.subject,img:a.imageUrl,key:a.noteUid,position:{lat:a.latitude,lng:a.longtitude},icon:"treat"===a.status?{url:"https://raw.githubusercontent.com/Concept211/Google-Maps-Markers/master/images/marker_yellow.png"}:void 0,zIndex:"treat"===a.status?99999999:void 0}))}),t}},{key:"getInspectors",value:function(){var e=this,t=[];return this.state.inspectors.forEach(function(a){t.push(s.a.createElement(j.Marker,{onClick:e.onMarkerClick,address:a.fullAddress,name:a.Inspector_Name,key:a.Inspector_Name,time:a.time,position:{lat:a.latitude,lng:a.longtitude},icon:N.a}))}),t}},{key:"render",value:function(){return s.a.createElement(j.Map,{onClick:this.onMapClicked,google:this.props.google,initialCenter:{lat:32.01578078,lng:34.77309091},zoom:12,className:"map"},this.getMarkers(),this.getInspectors(),s.a.createElement(j.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},s.a.createElement("h4",null,this.state.selectedPlace.title?this.state.selectedPlace.title:this.state.selectedPlace.name),s.a.createElement("h6",null,this.state.selectedPlace.address),s.a.createElement(C.a,{smallImage:{src:this.state.selectedPlace.img||"",isFluidWidth:!0},largeImage:{src:this.state.selectedPlace.img||"",width:200,height:200}})))}}]),t}(n.Component)),I=Object(j.GoogleApiWrapper)({apiKey:"AIzaSyBUgpiNkpLGPdN8m43cbNmr9aV_81OZfL0"})(M),S=a(158),P=a.n(S),Q=a(161),L=a.n(Q),B=a(160),U=a.n(B),x=a(82),R=a.n(x),W=(a(312),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={notes:[],expanded:null},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;O.ref("CityPopSERVER/Notes").on("value",function(t){t=Object.values(t.val()),e.setState(Object(m.a)({},e.state,{notes:t.filter(function(t){return!!("all"===e.props.status&&t.fullAddress&&t.fullAddress.includes(e.props.city)||t.fullAddress&&t.fullAddress.includes(e.props.city)&&t.status&&t.status.includes(e.props.status))}).sort(function(e,t){return(e=e.openingDate.split(".").reverse().join(""))<(t=t.openingDate.split(".").reverse().join(""))?1:e>t?-1:0})}))})}},{key:"getAllReports",value:function(){var e=this,t=[],a={open:"\u05e4\u05ea\u05d5\u05d7",treat:"\u05d1\u05d8\u05d9\u05e4\u05d5\u05dc",done:"\u05e1\u05d2\u05d5\u05e8"},n={open:"#dc3545",treat:"#ffc107",done:"#28a745"};return this.state.notes.forEach(function(r,c){return t.push(s.a.createElement(P.a,{key:r.noteUid,expanded:e.state.expanded==="panel"+c,onChange:e.handleChange("panel"+c)},s.a.createElement(U.a,{className:"note-item"},s.a.createElement(R.a,{className:"note-address column1"},r.fullAddress),s.a.createElement(R.a,{className:"note-date column2"},"\u05d1\u05ea\u05d0\u05e8\u05d9\u05da:\xa0\xa0 ",r.openingDate,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \u05d1\u05e9\u05e2\u05d4: \xa0\xa0 ",r.openingTime),s.a.createElement(R.a,{className:"note-status column3"},s.a.createElement("span",{style:{float:"right"}}," \u05e1\u05d8\u05d8\u05d5\u05e1: "),s.a.createElement("span",{className:"status-box",style:{backgroundColor:n[r.status]}},s.a.createElement("span",{className:"status-text"},a[r.status])))),s.a.createElement("hr",null),s.a.createElement(L.a,null,s.a.createElement("img",{src:r.imageUrl,alt:"",className:"note-img"}))))}),t}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{dir:"rtl"},this.getAllReports()))}}]),t}(n.Component)),D=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(g.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(E,{handler:this.props.handler}),s.a.createElement(A.c,null,s.a.createElement(A.a,{exact:!0,path:"/",component:function(){return s.a.createElement(I,{city:e.props.city})}}),s.a.createElement(A.a,{path:"/AllReports",component:function(){return s.a.createElement(W,{city:e.props.city,status:"all"})}}),s.a.createElement(A.a,{path:"/TreatReports",component:function(){return s.a.createElement(W,{city:e.props.city,status:"treat"})}}),s.a.createElement(A.a,{path:"/OpenReports",component:function(){return s.a.createElement(W,{city:e.props.city,status:"open"})}}),s.a.createElement(A.a,{path:"/ClosedReports",component:function(){return s.a.createElement(W,{city:e.props.city,status:"done"})}})))))}}]),t}(n.Component),V=a(33),z=a.n(V),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleLoginClick=a.handleLoginClick.bind(Object(d.a)(Object(d.a)(a))),a.handleLogoutClick=a.handleLogoutClick.bind(Object(d.a)(Object(d.a)(a))),a.state={isLoggedIn:!(!z.a.get("loggedIn")||"yes"!==z.a.get("loggedIn")),city:z.a.get("userCity")?z.a.get("userCity"):"111"},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleLoginClick",value:function(e){z.a.set("userCity",e.city),z.a.set("loggedIn","yes"),this.setState({isLoggedIn:!0,city:e.city})}},{key:"handleLogoutClick",value:function(){z.a.remove("loggedIn"),z.a.remove("userCity"),this.setState({city:"111",isLoggedIn:!1})}},{key:"render",value:function(){var e=this.state.isLoggedIn;return console.log(e),e?s.a.createElement(D,{handler:this.handleLogoutClick,city:this.state.city}):s.a.createElement(f,{handler:this.handleLoginClick})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[163,1,2]]]);
//# sourceMappingURL=main.6e48950f.chunk.js.map